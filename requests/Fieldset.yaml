  # /segments/v2/{bucket}/fieldset/resource:
  #   $ref: 'requests/Segments.yaml#/FieldsetResource'

  # /segments/v2/{bucket}/fieldset/{uid}:
  #   $ref: 'requests/Segments.yaml#/FieldsetSingle'

Fieldset:
  get:
    operationId: segmentsFieldset
    summary: Fieldset - list of fields
    description: |
      A list of fields that can be used to create a segment, report or export
    tags:
      - Segments
      - Export
    parameters:
      - name: bucket
        in: path
        required: true
        description: The bucket to get the fieldset for
        schema:
          type: string
      - name: resource
        in: query
        description: The resource to get the applicable fieldset
        required: false
        schema:
          type: string
    responses:
      '200':
        description: |
          A list of fieldsets
        content:
          application/json:
            schema:
              $ref: '#/responses/fieldsetList'
      '400':
        description: a standard error message
        content:
          application/json:
            schema:
              $ref: 'shared.yaml#/responses/error'

responses:
  fieldsetList:
    type: array
    items:
      type: object
      properties:
        applicable_resources:
          type: array
          items:
            type: string
        created:
          type: string
        description:
          type: string
        fields:
          type: array
          items:
            type: string
        last_updated:
          type: string
        name:
          type: string
        record_state:
          type: string
        uid:
          type: string
        uri:
          type: string