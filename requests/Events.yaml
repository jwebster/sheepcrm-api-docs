Events:
  get:
    summary: "Current events"
    description: "All the events for a client within the past 14 days and next 90"
    tags:
      - Events
    parameters:
      - name: bucket
        in: path
        required: true
        schema:
          $ref: 'shared.yaml#/schemas/bucket'
      - name: page_size
        in: query
        required: false
        schema:
          type: integer
          default: 250
      - name: page
        in: query
        required: false
        schema:
          type: integer
          default: 1
    responses:
      '200':
        description: A list of events
        content:
          application/json:
            schema:
              $ref: '#/responses/AllEventsResponse'
      '400':
        description: a standard error message
      '401':
        description: Authentication error

responses:
  AllEventsResponse:
    properties:
      bookings:
        type: array
        items:
          type: object
          properties:
            booking_type:
              type: string
            cancelled:
              type: boolean
            capacity:
              type: number
            category:
              type: string
            catering:
              type: boolean
            controller:
              type: string
            date_range:
              type: string
            description:
              type: string
            display_value:
              type: string
            end_date:
              $ref: 'shared.yaml#/schemas/date'
            end_datetime:
              $ref: 'shared.yaml#/schemas/datetime'
            end_time:
              $ref: 'shared.yaml#/schemas/time'
            eventbrite_id:
              type: string
            eventbrite_last_sync:
              $ref: 'shared.yaml#/schemas/datetime'
            external_boxoffice_link:
              $ref: 'shared.yaml#/schemas/url'
            external_image:
              $ref: 'shared.yaml#/schemas/url'
            external_web_link:
              $ref: 'shared.yaml#/schemas/url'
            formatted_title:
              type: string
            group:
              type: array
              items:
                type: object
                properties:
                  display_value:
                    type: string
                  ref:
                    type: string
            is_sold_out:
              type: boolean
            location:
              type: string
            location_address_string:
              type: string
            location_country:
              type: string
            location_postal_code:
              type: string
            photo:
              type: string
            record_state:
              type: string
            series_id:
              type: string
            start_date:
              $ref: 'shared.yaml#/schemas/date'
            start_datetime:
              $ref: 'shared.yaml#/schemas/datetime'
            start_time:
              $ref: 'shared.yaml#/schemas/time'
            status:
              type: string
            subcategory:
              type: string
            tags:
              type: array
              items:
                type: string
            ticketed_event:
              type: boolean
            title:
              type: string
            uid:
              $ref: 'shared.yaml#/schemas/uid'
            uri:
              $ref: 'shared.yaml#/schemas/uri'
            user_interface:
              type: object
              properties:
                can_create_booking:
                  type: boolean
                can_delete_booking:
                  type: boolean
                can_edit_booking:
                  type: boolean
                can_restore_booking:
                  type: boolean
                policy_name:
                  type: string
            waitlist_available:
              type: boolean
            website:
              $ref: 'shared.yaml#/schemas/url'